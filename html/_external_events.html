<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YOM Replicator SDK: External events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">YOM Replicator SDK<span id="projectnumber">&#160;0.7.0.4</span>
   </div>
   <div id="projectbrief">A metaverse SDK created by YOM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_external_events.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">External events </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md53"></a>
External events</h1>
<p >The <code>YourOpenMetaverse</code> plugin allows you to create and call your own external events. These events can be anything that you want it to be like fireworks, opening portals, airdropping items, etc... The events can be called from the <code>Bridge</code> or from your website. In this guide we will show how to create your own events and how the events can be called.</p>
<h2><a class="anchor" id="autotoc_md54"></a>
Creating your own events</h2>
<p >To create your own events you will need to create an <code>Actor</code> and add a <code>Yom External Event</code> or a <code>Yom Stream Event</code> component to the actor. Firstly you will need to give the event an <code>Event Name</code> by going to <code>Details -&gt; Yom External Event / Yom Stream Event -&gt; Event Name</code> and setting your own <code>Event Name</code>. This <code>Event Name</code> will be the name of your function, so E.G. calling your function <code>Hello World</code> and calling the function <code>Hello World</code> from the <code>Bridge</code> will call this event. After you have set a name you will have to register the event in the <code>Event BeginPlay</code> of the actor by calling <code>Register Event</code> on the event component, this will set it up so that the event can be called. Please note that <code>Yom Stream Events</code> need to be registered per client, as the event will come from the client's stream, while <code>Yom External Event</code> needs to only be registered on the server. Not calling <code>Register Event</code> will not list the event and the event can thus not be called. You can also call <code>UnRegister</code> on the event to ensure that the event cannot be called again. A normal setup for an event looks like this:</p>
<p ><img src="ExternalEventInitialization.png" alt="ExternalEvent Initialization" class="inline"/></p>
<p >You can create your custom event graph in the <code>Create Event</code> node by clicking the dropdown and clicking either <code>Create a matching function</code> or <code>Create a matching event</code>. In these nodes you will get a json parameter that contains the variables given by the event command. You will need to retrieve the variables yourself from the json with <a href="https://www.notion.so/VaRest-UE4-Plugin-40b98c54fc184033b60a42e0e4753536">vaRest</a>.</p>
<p ><img src="CreateExternalEventGraph.png" alt="CreateExternalEventGraph" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md55"></a>
Calling YomExternalEvents from the Bridge</h2>
<p >Currently not possible as the <code>Bridge</code> needs to be updated to do this.</p>
<h2><a class="anchor" id="autotoc_md56"></a>
Calling YomStreamEvents from a website</h2>
<p >It is also possible to trigger events directly from the host website. To trigger an event, call <code>emitUIInteraction</code> on the iframe. This method takes json object that takes a function parameter and a data field. The function should be the same as your event name, the data field should contain all parameters that your function needs. Example code (javascript): </p><div class="fragment"><div class="line">emitUIInteraction({</div>
<div class="line">    function: &#39;MyFunction&#39;,</div>
<div class="line">    data: {</div>
<div class="line">        myBooleanParameter: true</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_pages__guides.html">Guides</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
